/*
В видеоигре Fallout 4 квест «Дорога к свободе» требует от игроков дойти до металлического циферблата, называемого «Кольцо тропы свободы», и использовать его, чтобы ввести определенное ключевое слово, чтобы открыть дверь.
Учитывая строковое кольцо, представляющее код, выгравированный на внешнем кольце, и другой строковый ключ, представляющий ключевое слово, которое необходимо написать, верните минимальное количество шагов для написания всех символов в ключевом слове.
Первоначально первый символ кольца выравнивается по направлению «12:00». Вам следует ввести все символы ключа один за другим, вращая кольцо по часовой стрелке или против часовой стрелки, чтобы каждый символ строкового ключа выровнялся по направлению «12:00», а затем нажимая центральную кнопку.
На этапе вращения кольца произнесите ключевой символ key[i]:
Вы можете повернуть кольцо по или против часовой стрелки на одно место, что считается за один шаг. Конечная цель вращения — выровнять один из символов кольца в направлении «12:00», где этот символ должен быть равен ключу [i].
Если клавиша символа [i] выровнена по направлению «12:00», нажмите центральную кнопку, чтобы произнести букву, что также считается за один шаг. После нажатия можно было приступить к написанию следующего символа в клавише (следующий этап). В противном случае вы закончили все написание.
*/

// 514

let ring = 'godding';
let key = 'gd';

let findRotateSteps = function (ring, key) {
    const n = ring.length;
    const m = key.length;
    const dp = new Array(m + 1).fill(0).map(() => new Array(n).fill(0));

    for (let i = m - 1; i >= 0; i--) {
        for (let j = 0; j < n; j++) {
            dp[i][j] = Infinity;
            for (let k = 0; k < n; k++) {
                if (ring[k] === key[i]) {
                    const diff = Math.abs(j - k);
                    const steps = Math.min(diff, n - diff);
                    dp[i][j] = Math.min(dp[i][j], steps + dp[i + 1][k]);
                }
            }
        }
    }

    return dp[0][0] + m;
};

console.log(findRotateSteps(ring, key));
